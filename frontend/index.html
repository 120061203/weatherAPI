<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>ğŸŒ¤ï¸ å¤©æ°£æŸ¥è©¢</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background: linear-gradient(to bottom, #dfefff, #ffffff);
      padding: 2rem;
      max-width: 500px;
      margin: auto;
      text-align: center;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    input, button {
      padding: 0.6rem;
      font-size: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
    }
    #result {
      margin-top: 2rem;
      text-align: left;
      white-space: pre-wrap;
      background-color: #f5f5f5;
      padding: 1rem;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <h1>ğŸŒ¦ï¸ å¤©æ°£æŸ¥è©¢ç³»çµ±</h1>
  <input type="text" id="city" placeholder="è«‹è¼¸å…¥åŸå¸‚åç¨±ï¼ˆä¾‹å¦‚ Taipeiï¼‰" />
  <br/>
  <button onclick="getWeather()">æŸ¥è©¢å¤©æ°£</button>
  <div id="result"></div>

  <script>
    async function getWeather() {
      const city = document.getElementById("city").value.trim();
      const resultEl = document.getElementById("result");
      if (!city) {
        resultEl.textContent = "è«‹è¼¸å…¥åŸå¸‚åç¨±";
        return;
      }

      try {
        const res = await fetch(`http://127.0.0.1:8000/weather?city=${city}`);
        const data = await res.json();

        if (data.éŒ¯èª¤) {
          resultEl.textContent = `âŒ éŒ¯èª¤ï¼š${data.éŒ¯èª¤}`;
        } else {
          resultEl.innerHTML = `
            <strong>ğŸŒ åŸå¸‚ï¼š</strong> ${data.åŸå¸‚}<br/>
            <strong>ğŸŒ¤ï¸ å¤©æ°£ï¼š</strong> ${data.å¤©æ°£}<br/>
            <strong>ğŸŒ¡ï¸ æ°£æº«ï¼š</strong> ${data.æ°£æº«}Â°C<br/>
            <strong>ğŸ¥µ é«”æ„Ÿæº«åº¦ï¼š</strong> ${data.é«”æ„Ÿæº«åº¦}Â°C<br/>
            <strong>ğŸ’§ æ¿•åº¦ï¼š</strong> ${data.æ¿•åº¦}%
          `;
        }
      } catch (error) {
        resultEl.textContent = "âŒ ç„¡æ³•å–å¾—è³‡æ–™ï¼Œè«‹ç¢ºèª API æœ‰å•Ÿå‹•ã€‚";
      }
    }
  </script>
</body>
</html>
